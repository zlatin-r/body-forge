{% extends "common/base.html" %}
{% load static %}

{% block content %}
    <div class="dashboard-background-wrapper">
        {# This div remains fixed for the background #}
    </div>

    {# This new div will hold all your scrollable content #}
    <div class="dashboard-main-content-area">
        <div class="dashboard-content-container">
            <h2 class="text-center mb-4">Welcome, {{ user.email|default:"Fitness Enthusiast" }}!</h2>

            <div class="row">
                <div class="col-md-6 mb-4">
                    <div class="card-section">
                        <h3>Quick Stats</h3>
                        <p>Total Workouts: <strong>{{ total_workouts|default:"0" }}</strong></p>
                        <p>Last Workout: <strong>{{ last_workout_date|default:"N/A" }}</strong></p>
                        <p>Upcoming Plans: <strong>{{ upcoming_plans|default:"None" }}</strong></p>
                    </div>
                </div>

                <div class="col-md-6 mb-4">
                    <div class="card-section">
                        <h3>Start New Workout</h3>
                        <p>Ready to break a sweat? Log your next training session.</p>
                        <div class="text-center mt-3">
                            <a href="#" class="btn btn-primary btn-lg">Start New Workout</a>
{#                            <a href="{% url 'start-new-workout' %}" class="btn btn-primary btn-lg">Start New Workout</a>#}
                        </div>
                    </div>
                </div>
            </div>

            <hr class="text-white-50 my-4">

            <div class="previous-workouts">
                <h3>Previous Workouts</h3>
                {% if user_workouts %}
                    {% for workout in user_workouts %}
                        <div class="workout-card">
                            <div>
                                <h4>{{ workout.name|default:"Unnamed Workout" }}</h4>
                                <p><strong>Date:</strong> {{ workout.date|date:"F d, Y" }}</p>
                                <p><strong>Duration:</strong> {{ workout.duration|default:"N/A" }}</p>
                                <p><strong>Exercises:</strong> {{ workout.exercises_count|default:"0" }}</p>
                            </div>
                            <a href="#" class="btn btn-sm btn-outline-info">View Details</a>
{#                            <a href="{% url 'workout-details' pk=workout.pk %}" class="btn btn-sm btn-outline-info">View Details</a>#}
                        </div>
                    {% empty %}
                        <p class="text-center">You haven't logged any workouts yet. Time to get started!</p>
                    {% endfor %}
                {% else %}
                    <p class="text-center">No previous workouts found.</p>
                {% endif %}
            </div>

        </div>
    </div>
{% endblock %}